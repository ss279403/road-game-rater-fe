<section @fadeInAnimation>
  <br>
  <br>
  
    <div *ngIf="place">
      <ol class="breadcrumb">
        <li>
          <a routerLink="/map">Map</a>
        </li>
        <li>
          <a routerLink="/place">Top Rated Locations</a>
        </li>
        <li class="active">Review {{place.name}}</li>
      </ol>
    </div>

    <div *ngIf="place">
      <div class="name" id="name">
        {{place.name}}
        <div class="star-ratings-sprite">
          <div [ngStyle]="{'width': place.averageRate/5*100 + '%'}" class="star-ratings-sprite-rating"></div>
        </div>
        <br>
        <div *ngIf="user" class="ratebutton" style="top:50%;text-align:center;">
          <a class="btn btn-primary" [routerLink]="['/place/add/', place.id]">Rate this Bathroom</a>&nbsp;
        </div>

        <div *ngIf="!user" class="createAccountButton" style="top:50%;text-align:center;">
          <a class="btn btn-primary" [routerLink]="['/newUser']">Create Account to Rate</a>&nbsp;
        </div>

      </div>
    </div>

    <br>
    
    <div *ngIf="place">
      <table class="table table-striped table-bordered" id="dataTable" style="width:100%">
        <thead>
          <tr>
            <th style="top:50%;text-align:center;">Handicap Friendly?</th>
            <th style="top:50%;text-align:center;">Family Bathroom?</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td text-align:center>
              <div *ngFor="let ratingInfo of place.ratingInfo; index as i; last as isLast">
                <div *ngIf="isLast && ratingInfo.isHandicap == true" style="top:50%;text-align:center;">
                  <img class="familypic" alt="family sign" src="assets/images/handicap.png">
                </div>
                <div *ngIf="isLast && ratingInfo.isHandicap == false" style="top:50%;text-align:center;">
                  <img class="familypic" alt="family sign" src="assets/images/nohandicap.png">
                </div>
              </div>
            </td>

            <td>
              <div *ngFor="let ratingInfo of place.ratingInfo; index as i; last as isLast">
                <div *ngIf="isLast && ratingInfo.isFamily == true" style="top:50%;text-align:center;">
                  <img class="familypic" alt="family sign" src="assets/images/family.png">
                </div>
                <div *ngIf="isLast && ratingInfo.isFamily == false" style="top:50%;text-align:center;">
                  <img class="familypic" alt="family sign" src="assets/images/nofamily.png">
                </div>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>


    <br>

    <div style="top:50%;text-align:center;">
      <h2>
        <b>Prior Reviews for {{place.name}}</b>
      </h2>
      <div class="page">
      <table class="table table-striped table-bordered" id="dataTable" style="table-layout: fixed; width: 100%">

        <thead>

          <tr>
            <th style="top:50%;text-align:center;">Rating</th>
            <th style="top:50%;text-align:center;">Was it clean?</th>
            <th style="top:50%;text-align:center;">Comments</th>
          </tr>

        </thead>

        <tbody>
          <tr *ngFor="let rate of place.ratingInfo">
            <td>
              <div class="star-ratings-sprite">
                <div [ngStyle]="{'width': rate.rating/5*100 + '%'}" class="star-ratings-sprite-rating"></div>
              </div>
            </td>
            <td>
              <div *ngIf="rate.isClean == true">
                <img class="pic" alt="clean" src="assets/images/clean.png">
              </div>
              <div *ngIf="rate.isClean == false">
                <img class="pic" alt="poo" src="assets/images/poo.png">
              </div>
            </td>
            <td style="word-wrap: break-word">{{rate.comments}}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <br>
 
    <div style="position: relative;">
      <div id="myCarousel" class="carousel slide" data-ride="carousel">
        <!-- Indicators -->
        <ol class="carousel-indicators">
          <li data-target="#myCarousel" *ngFor="let ratingInfo of place.ratingInfo;let i = index" [attr.data-slide-to]="i" ngClass="i == 0 ? 'active' : ''"></li>
        </ol>
        <!-- Wrapper for slides -->

        <div class="carousel-inner" role="listbox">
          <div *ngFor="let image of place.ratingInfo; let k = index" [ngClass]="k == 0 ? 'item active' : 'item'">
            <div *ngIf="image.itemImageUrl">
              <div style="height: 400px" class="item active">
                <img width="100%" [src]="image.itemImageUrl" alt="Bathroom Photos">
              </div>
            </div>


            <!-- Left and right controls -->
            <a class="left carousel-control" role="button" data-slide="prev">
              <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control"  role="button" data-slide="next">
              <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
            </a>
          </div>
        </div>
      </div>
    </div>
    <br><br><br><br><br>



  </div>


</section>